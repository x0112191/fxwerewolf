<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>狼人杀 - 登录页面</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Microsoft YaHei', 'Arial', sans-serif;
    }
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .login-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      width: 100%;
      max-width: 500px;
      transition: transform 0.3s ease;
    }
    .login-container:hover {
      transform: translateY(-5px);
    }
    h1 {
      color: #ffffff;
      margin-bottom: 35px;
      font-size: 28px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      letter-spacing: 1px;
    }
    .input-group {
      margin: 20px 0;
      text-align: left;
      position: relative;
    }
    label {
      display: block;
      margin-bottom: 8px;
      color: #e0e0e0;
      font-size: 14px;
      letter-spacing: 0.5px;
    }
    input {
      width: 100%;
      padding: 14px 16px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 8px;
      font-size: 16px;
      color: #ffffff;
      transition: all 0.3s ease;
      outline: none;
    }
    input::placeholder {
      color: #a0a0a0;
    }
    input:focus {
      border-color: #4cc9f0;
      box-shadow: 0 0 0 3px rgba(76, 201, 240, 0.2);
    }
    .btn-group {
      margin-top: 25px;
      display: flex;
      gap: 15px;
    }
    button {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    .create-btn {
      background: linear-gradient(45deg, #4361ee, #3a0ca3);
      color: white;
    }
    .join-btn {
      background: linear-gradient(45deg, #4cc9f0, #4895ef);
      color: white;
    }
    .confirm-btn {
      width: 100%;
      margin-top: 20px;
      background: linear-gradient(45deg, #7209b7, #f72585);
      color: white;
    }
    button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    button:active {
      transform: translateY(0);
    }
    .rule-link {
      margin-top: 25px;
      display: block;
      color: #4cc9f0;
      text-decoration: none;
      font-size: 14px;
      transition: color 0.3s ease;
    }
    .rule-link:hover {
      color: #72efdd;
      text-decoration: underline;
    }
    #error-msg {
      color: #f72585;
      margin-top: 15px;
      height: 22px;
      font-size: 14px;
    }
    #roomId-group {
      display: none;
    }
    /* 装饰元素 */
    .decor {
      position: absolute;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: rgba(76, 201, 240, 0.1);
      filter: blur(30px);
      z-index: -1;
    }
    .decor1 {
      top: -30px;
      left: -30px;
    }
    .decor2 {
      bottom: -30px;
      right: -30px;
      background: rgba(247, 37, 133, 0.1);
    }
  </style>
</head>
<body>
  <div class="login-container">
    <div class="decor decor1"></div>
    <div class="decor decor2"></div>
    
    <h1>狼人杀 - 自定义角色版</h1>
    
    <div class="input-group">
      <label for="nickname">输入你的昵称</label>
      <input type="text" id="nickname" placeholder="请输入2-8个字符的昵称" required>
    </div>

    <div class="input-group" id="roomId-group">
      <label for="roomId">输入房间号</label>
      <input type="text" id="roomId" placeholder="输入6位数字房间号">
    </div>

    <div class="btn-group">
      <button class="create-btn" onclick="toggleMode('create')">创建自定义房间</button>
      <button class="join-btn" onclick="toggleMode('join')">加入已有房间</button>
    </div>

    <button class="confirm-btn" onclick="confirmLogin()">确认进入</button>

    <div id="error-msg"></div>

    <a href="rules.html" class="rule-link">查看完整角色规则</a>
  </div>

  <script>
    let currentMode = 'create'; // 默认：创建房间模式

    // 切换「创建/加入」模式
    function toggleMode(mode) {
      currentMode = mode;
      const roomIdGroup = document.getElementById('roomId-group');
      if (mode === 'join') {
        roomIdGroup.style.display = 'block'; // 显示房间号输入框
      } else {
        roomIdGroup.style.display = 'none'; // 隐藏房间号输入框
      }
    }

    // 确认登录（创建/加入房间）
    function confirmLogin() {
      const nickname = document.getElementById('nickname').value.trim();
      const errorMsg = document.getElementById('error-msg');

      // 验证昵称
      if (!nickname || nickname.length < 2 || nickname.length > 8) {
        errorMsg.textContent = '昵称必须是2-8个字符！';
        return;
      }

      // 加入房间模式：验证房间号
      if (currentMode === 'join') {
        const roomId = document.getElementById('roomId').value.trim();
        if (!roomId || roomId.length !== 6 || isNaN(roomId)) {
          errorMsg.textContent = '请输入6位数字房间号！';
          return;
        }
        // 跳转至房间页面（加入模式）
        window.location.href = `match.html?roomId=${roomId}&nickname=${nickname}&isHost=false`;
      } else {
        // 创建房间模式：跳转至房间创建
        window.location.href = `match.html?nickname=${nickname}&isHost=true`;
      }
    }
  </script>
</body>
</html><!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>狼人杀 - 登录页面</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Microsoft YaHei', 'Arial', sans-serif;
    }
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .login-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      width: 100%;
      max-width: 500px;
      transition: transform 0.3s ease;
    }
    .login-container:hover {
      transform: translateY(-5px);
    }
    h1 {
      color: #ffffff;
      margin-bottom: 35px;
      font-size: 28px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      letter-spacing: 1px;
    }
    .input-group {
      margin: 20px 0;
      text-align: left;
      position: relative;
    }
    label {
      display: block;
      margin-bottom: 8px;
      color: #e0e0e0;
      font-size: 14px;
      letter-spacing: 0.5px;
    }
    input {
      width: 100%;
      padding: 14px 16px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 8px;
      font-size: 16px;
      color: #ffffff;
      transition: all 0.3s ease;
      outline: none;
    }
    input::placeholder {
      color: #a0a0a0;
    }
    input:focus {
      border-color: #4cc9f0;
      box-shadow: 0 0 0 3px rgba(76, 201, 240, 0.2);
    }
    .btn-group {
      margin-top: 25px;
      display: flex;
      gap: 15px;
    }
    button {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    .create-btn {
      background: linear-gradient(45deg, #4361ee, #3a0ca3);
      color: white;
    }
    .join-btn {
      background: linear-gradient(45deg, #4cc9f0, #4895ef);
      color: white;
    }
    .confirm-btn {
      width: 100%;
      margin-top: 20px;
      background: linear-gradient(45deg, #7209b7, #f72585);
      color: white;
    }
    button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    button:active {
      transform: translateY(0);
    }
    .rule-link {
      margin-top: 25px;
      display: block;
      color: #4cc9f0;
      text-decoration: none;
      font-size: 14px;
      transition: color 0.3s ease;
    }
    .rule-link:hover {
      color: #72efdd;
      text-decoration: underline;
    }
    #error-msg {
      color: #f72585;
      margin-top: 15px;
      height: 22px;
      font-size: 14px;
    }
    #roomId-group {
      display: none;
    }
    /* 装饰元素 */
    .decor {
      position: absolute;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: rgba(76, 201, 240, 0.1);
      filter: blur(30px);
      z-index: -1;
    }
    .decor1 {
      top: -30px;
      left: -30px;
    }
    .decor2 {
      bottom: -30px;
      right: -30px;
      background: rgba(247, 37, 133, 0.1);
    }
  </style>
</head>
<body>
  <div class="login-container">
    <div class="decor decor1"></div>
    <div class="decor decor2"></div>
    
    <h1>狼人杀 - 自定义角色版</h1>
    
    <div class="input-group">
      <label for="nickname">输入你的昵称</label>
      <input type="text" id="nickname" placeholder="请输入2-8个字符的昵称" required>
    </div>

    <div class="input-group" id="roomId-group">
      <label for="roomId">输入房间号</label>
      <input type="text" id="roomId" placeholder="输入6位数字房间号">
    </div>

    <div class="btn-group">
      <button class="create-btn" onclick="toggleMode('create')">创建自定义房间</button>
      <button class="join-btn" onclick="toggleMode('join')">加入已有房间</button>
    </div>

    <button class="confirm-btn" onclick="confirmLogin()">确认进入</button>

    <div id="error-msg"></div>

    <a href="rules.html" class="rule-link">查看完整角色规则</a>
  </div>

  <script>
    let currentMode = 'create'; // 默认：创建房间模式

    // 切换「创建/加入」模式
    function toggleMode(mode) {
      currentMode = mode;
      const roomIdGroup = document.getElementById('roomId-group');
      if (mode === 'join') {
        roomIdGroup.style.display = 'block'; // 显示房间号输入框
      } else {
        roomIdGroup.style.display = 'none'; // 隐藏房间号输入框
      }
    }

    // 确认登录（创建/加入房间）
    function confirmLogin() {
      const nickname = document.getElementById('nickname').value.trim();
      const errorMsg = document.getElementById('error-msg');

      // 验证昵称
      if (!nickname || nickname.length < 2 || nickname.length > 8) {
        errorMsg.textContent = '昵称必须是2-8个字符！';
        return;
      }

      // 加入房间模式：验证房间号
      if (currentMode === 'join') {
        const roomId = document.getElementById('roomId').value.trim();
        if (!roomId || roomId.length !== 6 || isNaN(roomId)) {
          errorMsg.textContent = '请输入6位数字房间号！';
          return;
        }
        // 跳转至房间页面（加入模式）
        window.location.href = `match.html?roomId=${roomId}&nickname=${nickname}&isHost=false`;
      } else {
        // 创建房间模式：跳转至房间创建
        window.location.href = `match.html?nickname=${nickname}&isHost=true`;
      }
    }
  </script>
</body>
</html>
